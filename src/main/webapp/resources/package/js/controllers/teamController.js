app.controller("teamController",["$scope","teamFactory",function(e,t){e.editMode=!1,e.cost=0,e.edit=function(d){e.editMode=!e.editMode,e.editMode||(e.$parent.models.selected=null,t.saveTeam(e.team)),e.$emit("teamChanged",{editMode:e.editMode,team:e.team})},e.$on("currentTeam",function(t,d){d.team.id===e.team.id&&(e.team=d.team,e.editMode=d.editMode)}),e.show=function(){return e.$parent.models.selected===e.team},e.unselect=function(){e.editMode||e.$parent.models.selected!==e.team||(e.$parent.models.selected=null)},e.select=function(){e.$parent.models.selected=e.team,e.$parent.editableTeam=e.team.id,e.$emit("teamChanged",{editMode:e.editMode,team:e.team})},e.addMember=function(t){var d={teamId:t.id,name:"Name",position:"",seniority:"",involvement:100,vacancy:!1};e.team.members.push(d),e.$emit("teamChanged",{editMode:e.editMode,team:e.team}),e.$emit("editMember",d)},e.deleteMember=function(d,m){e.team.members.splice(m,1),m.id&&t.deleteMember(m.id).success(function(m){t.getTeam(d.id).success(function(t){e.team=t,e.$emit("teamChanged",{editMode:e.editMode,team:e.team})})})},e.editMember=function(t,d){e.$emit("editMember",d)}}]);